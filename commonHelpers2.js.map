{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const LS_key = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\n\nform.addEventListener(\"submit\", handleSubmit);\nform.addEventListener(\"input\", onTextInput);\n\npopulateTextarea();\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const email = form.elements.email.value.trim();\n    const message = form.elements.message.value.trim();\n    if (email && message) {\n        console.log({\"email\": email, \"message\": message});\n        event.currentTarget.reset();\n        localStorage.removeItem(LS_key);\n    } else {\n        alert(\"All fields must be filled\");\n    }\n}\n\nfunction onTextInput() {\n    const object = {\n        email: form.elements.email.value.trim(),\n        message: form.elements.message.value.trim(),\n    }\n    localStorage.setItem(LS_key, JSON.stringify(object));\n}\n\nfunction populateTextarea() {\n    const storage = JSON.parse(localStorage.getItem(LS_key));\n    if (storage) {\n        const savedEmail = storage.email;\n        const savedMessage = storage.message;\n\n        if (savedEmail || savedMessage) {\n            form.elements.email.value = savedEmail;\n            form.elements.message.value = savedMessage;\n        } \n    }\n}\n"],"names":["LS_key","form","handleSubmit","onTextInput","populateTextarea","event","email","message","object","storage","savedEmail","savedMessage"],"mappings":"wFAAA,MAAMA,EAAS,sBACTC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,SAAUC,CAAY,EAC5CD,EAAK,iBAAiB,QAASE,CAAW,EAE1CC,IAEA,SAASF,EAAaG,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAQL,EAAK,SAAS,MAAM,MAAM,OAClCM,EAAUN,EAAK,SAAS,QAAQ,MAAM,OACxCK,GAASC,GACT,QAAQ,IAAI,CAAC,MAASD,EAAO,QAAWC,CAAO,CAAC,EAChDF,EAAM,cAAc,QACpB,aAAa,WAAWL,CAAM,GAE9B,MAAM,2BAA2B,CAEzC,CAEA,SAASG,GAAc,CACnB,MAAMK,EAAS,CACX,MAAOP,EAAK,SAAS,MAAM,MAAM,KAAM,EACvC,QAASA,EAAK,SAAS,QAAQ,MAAM,KAAM,CAC9C,EACD,aAAa,QAAQD,EAAQ,KAAK,UAAUQ,CAAM,CAAC,CACvD,CAEA,SAASJ,GAAmB,CACxB,MAAMK,EAAU,KAAK,MAAM,aAAa,QAAQT,CAAM,CAAC,EACvD,GAAIS,EAAS,CACT,MAAMC,EAAaD,EAAQ,MACrBE,EAAeF,EAAQ,SAEzBC,GAAcC,KACdV,EAAK,SAAS,MAAM,MAAQS,EAC5BT,EAAK,SAAS,QAAQ,MAAQU,EAErC,CACL"}